/* Reset & base */
* { box-sizing: border-box; margin: 0; padding: 0; }
:root{
  --bg-1:#0e0e10;
  --panel-bg:#030303;
  --accent-blue:#4a90e2; /* keep the blue */
  --accent-silver:#cfcfcf;
  --muted:#bdbdbd;
  --card-border: #0b3b62; /* subtle darker blue for borders */
}
/* Page background with soft vignette */
body{
  min-height:100vh;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(60% 60% at 10% 10%, rgba(0,0,0,0.45), transparent 10%),
    radial-gradient(60% 60% at 90% 90%, rgba(0,0,0,0.45), transparent 10%),
    linear-gradient(180deg,#0b0b0b 0%, #151515 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px;
}
/* card container sized like screenshot */
.card-wrap{
  width: min(1150px, 96%);
  height: 720px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 6px solid var(--accent-blue);
  border-radius: 6px;
  box-shadow: 0 30px 60px rgba(0,0,0,0.7), 0 0 90px rgba(0,0,0,0.6) inset;
  position: relative;
  overflow: hidden;
  display: grid;
  align-items: stretch;
}
/* FRONT (closed) */
.card-front{
  position:absolute;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  gap: 18px;
  background: linear-gradient(180deg,#070708, #0f1012);
  transform-origin: left center;
  transition: transform 700ms cubic-bezier(.2,.9,.2,1), opacity 450ms ease;
  z-index: 30;
  padding: 48px;
}
.card-front.hidden{
  /* remove 3D rotation — use a simple 2D translate and scale */
  transform: translateX(-6%) scale(0.98);
  opacity: 0;
  pointer-events:none;
}
.front-title{
  font-size: clamp(36px, 7vw, 84px);
  letter-spacing: 4px;
  color: var(--accent-blue);
  -webkit-text-stroke: 1px rgba(255,255,255,0.02);
  text-transform:uppercase;
  font-weight:900;
  text-shadow: 0 6px 28px rgba(74,144,226,0.12);
}
.front-sub{
  color: var(--muted);
  letter-spacing: 1px;
  font-size: 20px;
}
/* open button (corner circle in earlier design) */
.open-btn{
  position:absolute;
  right:28px;
  bottom:28px;
  width:72px;
  height:72px;
  border-radius:50%;
  background: linear-gradient(180deg,var(--accent-blue), #2f6fb0);
  color:white;
  border: 3px solid var(--accent-silver);
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 8px 30px rgba(74,144,226,0.26);
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.open-btn:active{ transform: scale(.97); }
/* INSIDE (opened) - two columns */
.card-inside{
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
  opacity: 0;
  transform: translateY(10px) scale(.995);
  transition: opacity 420ms ease 180ms, transform 420ms ease 180ms;
  z-index: 20;
  pointer-events:none;
}
.card-inside.visible{
  opacity: 1;
  transform: none;
  pointer-events:auto;
}
/* close button in top-right of right panel */
.close-btn{
  position:absolute;
  right:22px;
  top:18px;
  width:44px;
  height:44px;
  border-radius:6px;
  background: linear-gradient(180deg,#f7f7f7,#e8e8e8);
  color:#111;
  border:0;
  font-size:20px;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 6px 16px rgba(0,0,0,0.5);
  z-index: 60;
}
.close-btn:active{ transform: translateY(1px); }
/* LEFT panel: photos */
.left-panel{
  padding: 36px;
  background: linear-gradient(180deg,#0c0c0c,#121212);
  border-right: 2px solid rgba(74,144,226,0.12);
}
.left-heading{
  text-align:center;
  color: var(--accent-silver);
  font-weight:800;
  letter-spacing:1px;
  margin-bottom:22px;
  font-size:20px;
}
/* photo grid 2x2 */
.photo-grid{
  display:grid;
  grid-template-columns: repeat(2,1fr);
  grid-auto-rows: 1fr;
  gap:20px;
  align-items:stretch;
  height: calc(100% - 64px);
  padding: 8px;
}
/* photo card (button for accessibility) */
.photo-card{
  background:transparent;
  border: 3px solid rgba(74,144,226,0.1);
  border-radius:8px;
  padding:0;
  overflow:hidden;
  cursor:pointer;
  perspective: none; /* no 3d */
  position:relative;
  display:block;
}
/* inner flipping pane - remove 3d transforms; use simple fade/translate */
.photo-inner{
  width:100%;
  height:100%;
  position:relative;
}
.photo-face{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  border-radius:6px;
  overflow:hidden;
  transition: opacity 480ms cubic-bezier(.2,.9,.2,1), transform 480ms cubic-bezier(.2,.9,.2,1);
}
/* front face (visible by default) */
.photo-front{
  opacity:1;
  transform: translateY(0);
}
.photo-front img{
  width:100%;
  height:100%;
  object-fit:cover;
  filter:grayscale(100%);
  display:block;
}
.tap-badge{
  display:inline-block;
  background:var(--accent-silver);
  color:#111;
  padding:8px 12px;
  margin:14px;
  border-radius:4px;
  font-weight:700;
}
/* back face (hidden by default): remove shading/gradient, make flat */
.photo-back{
  opacity:0;
  transform: translateY(-8%);
  padding:20px;
  background: #0b0b0b; /* flat dark background */
  color: var(--accent-silver);
  display:flex;
  align-items:center;
  justify-content:center;
  border-left: 0; /* keep flat look */
}
.memory{
  color: var(--accent-silver);
  text-align:center;
  font-size:15px;
  line-height:1.5;
}
/* when flipped: hide front, show back — no 3D rotation */
.photo-card.flipped .photo-front{
  opacity:0;
  transform: translateY(8%);
}
.photo-card.flipped .photo-back{
  opacity:1;
  transform: translateY(0);
}
/* RIGHT panel: message */
.right-panel{
  padding: 46px;
  background: linear-gradient(180deg,#050607,#0b0b0d);
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.message-wrap{
  width:100%;
  max-width:520px;
  color:var(--muted);
}
.title-row{
  display:flex;
  align-items:center;
  gap:18px;
  margin-bottom:18px;
}
.title-decor{
  color:var(--accent-blue);
  font-size:28px;
  opacity:0.95;
}
.recipient{
  color:var(--accent-blue);
  font-size:42px;
  letter-spacing:4px;
  margin:0;
  font-weight:900;
  text-transform:uppercase;
}
.message-body p{
  margin-bottom:18px;
  color:var(--muted);
  line-height:1.7;
  font-size:16px;
}
.signature{
  margin-top:28px;
  color:var(--accent-silver);
  text-align:right;
  font-style:italic;
  font-size:16px;
}
/* CONFETTI canvas should sit above the opened card but below controls */
#confetti-canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:40;
  opacity:0;
  transition: opacity 220ms ease;
}
#confetti-canvas.active{ opacity:1; }
/* Responsive */
@media (max-width: 900px){
  .card-wrap{ height: auto; display:block; padding: 18px; }
  .card-front{ position:relative; border-radius:10px; padding:36px; }
  .card-inside{ position:relative; display:block; opacity:1; transform:none; pointer-events:auto; }
  .left-panel, .right-panel{ width:100%; padding:18px; }
  .photo-grid{ gap:12px; grid-template-columns: repeat(2, 1fr); height:auto; }
  .close-btn{ right:12px; top:12px; }
  .open-btn{ right:14px; bottom:14px; width:58px; height:58px;}
}